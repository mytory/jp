---
title: '[PHP]文字列が どこにあるのか 捜す 時 strpos / stripos'
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/101
aktt_notify_twitter:
  - yes
categories:
  - Web server
tags:
  - PHP
---
私が 管理する サイトには 7000女 犬の コンテンツが ある. ところが 昔に 入力された 文等は コードが だいなしだ. はなはだしくは 文 マン 前に <p>街 入って行って あるの ない 場合も ある. そのため プログラミングを 通じて 補った. いちいち だ 入力する 数は ないから.(後には DBを 直接 だ 改め直す 考えなのに まだ 時間が ない.)

<pre class="brush:php">if(strpos($content, &#039;&lt;p&#039;)!==0 &amp;&amp; strpos($content, &#039;&lt;P&#039;)!==0)
 &nbsp;$content = &#039;&lt;p&gt;&#039;.$content;
</pre>

コード 自体は 簡単だが 気を使う 蟹 まどろみ ある.

まず strpos増えた 該当 文字列を 捜すの できない 場合 falseを 返還するのに, PHPでは if 門で <a target="_blank" href="http://mytory.textcube.com/entry/php%EC%97%90%EC%84%9C-GET-%EB%B3%80%EC%88%98%EB%A5%BC-0%EC%9C%BC%EB%A1%9C-%EC%A4%AC%EC%9D%84-%EB%95%8C-%ED%99%95%EC%9D%B8-%EC%95%88-%EB%90%98%EB%8A%94-%EA%B2%BD%EC%9A%B0">0度 false処理される.</a>&nbsp;したがって <a target="_blank" href="http://kr.php.net/manual/en/language.operators.comparison.php">比較演算子</a>を ==路 使えば 中 なって ===路 使うと する. そのため 上 コードで !==と 比べた のだ.

==増えた 兄さん(型) タイプまでは 気を使うの ない 比較演算子で, ===増えた 兄さん(型) タイプまで 気を使う 比較演算子だ.

0==false 増えた trueジーマン, 0===false増えた true街 ない.

そのため php マニュアルで <a target="_blank" href="http://kr.php.net/manual/kr/function.strpos.php">strpos 項目</a>を 見れば 下と ような 説明が ある.

> Warning

> これ 関数は 論理 FALSEを 返還するが, 0おこるが &#8220;&#8221; など, 論理 FALSE路 扱う 数 ある 違う 値段を 返還する 数 あります. 詳細な 情報は <a target="_top" href="http://kr.php.net/manual/kr/language.types.boolean.php">論理型</a>&nbsp;セクションを 参考してください. これ 関数の 返還値を 確認しようとすれば <a target="_top" href="http://kr.php.net/manual/kr/language.operators.comparison.php">=== 演算子</a>を 利用してください.

内 言葉と ような 言葉だ. 文字列 位置が マン 初めの 場合 0これ 返還されるという 音. そのため if門が ないという 意味の falseと 判断がつかない 数 あるから 必ず ===演算子を 使いなさいという 音だ.

この程度 説明したら なる 側で.

PHP5からは stripos街 出た. これは 大小文字 仕分けなしに 検査する 数 ある ことだ. 私が 使う サーバーは PHP4路 なって あって striposを 使うの できなくて && 演算子で 縛って 大小文字を 検査した.

以上.