---
title: '[JAVA] UTF-8 サーバーで オルドゲイト 電子決済 ソケット通信 修正する 部分'
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/308
aktt_notify_twitter:
  - yes
categories:
  - Web server
tags:
  - JAVA
---
初心者だと シャベルですくい出しを まどろみ 多く した.

php江戸 付けて 見たが 彼 焚く 送信 部分に iconvを 使うと した. 銀行は euc-krを 使って, 私たち ホームページは utf-8を 使った だからだ. もし ホームページが euc-kr路 なって ある 場合なら これ 文が 必要 ない のだ.</p> 

<pre class="brush:php">//銀行で 情報を 送ること 前に
$String=iconv("utf-8","euckr",$String);
//送って 出て 回答受けた メッセージを 見ようとすれば 
$String=iconv("euckr","utf-8",$String);
</pre></p> 

こんなに した.

今度に java路 なった ホームページに オルドゲイト 決済を 付けると した. 今度にも キャラクター エンコードが 問題だった. 決定的 ヒントを 提供した 文は <a href="http://www.google.co.kr/#hl=ko&xhr=t&q='java+socket+encoding+%EC%82%BD%EC%A7%88%EA%B8%B0'&cp=26&pf=p&sclient=psy&newwindow=1&site=&source=hp&aq=f&aqi=&aql=&oq='java+socket+encoding+%EC%82%BD%EC%A7%88%EA%B8%B0'&pbx=1&fp=9bc2c99ee635e670" target="_blank">&#8216;java socket encoding シャベルですくい出し期&#8217;</a>であった.

私が 事故を 進行した 順に 使って見る.

まず, 銀行 方で 何か メッセージが 来るのに 割れて 来た. 銀行側 エンコードが 私たち のと 中 当たるという 判断を したし, メッセージ 受信部を 捜して ソースを 直した. 下のように &nbsp;ソースを 直して 出ると メッセージを まともに ボール 数 あった.</p> 

<pre class="brush:java">//ProcessRequest関数に ある 部分
RecvMsg = new String( readMsg( iRecvLen ) );
//上と ような ソースを
RecvMsg = new String( readMsg( iRecvLen ) , "MS949");
//こんなに 直した.
</pre></p> 

そうしよう 銀行側で 送って 与える メッセージを まともに ボール 数 あった. &#8216;決済失敗&#8217;という メッセージだった.

当然 送る 方でも 銀行側 エンコードである MS949路 すると まともに 決済が 進行される ことと 判断した. メッセージ 送信部を 捜して 下のように 直した.</p> 

<pre class="brush:java">//やっぱり ProcessRequest関数に ある 部分
this.writeMsg(SendMsg.getBytes());
//上と ような ソースを
this.writeMsg(SendMsg.getBytes("MS949"));
//上と 一緒に 直した.
</pre></p> 

ところが 相変らず &#8216;決済失敗&#8217;という メッセージが 来た. 狼狽した.

翌日が なっては 考えが 進行された. &#8216;getBytes街 あの でなくとも 色々 箇所 ある 蟹 ないか?&#8217;

Ctrl+F路 getBytesを だ 捜した. やっぱり, 色々 箇所 getBytes街 あった. いちいち 捜して 直した.(はじめから getBytes()を getBytes(&#8220;MS949&#8243;)路 一括変換したら 楽だった でしょうに;;)

そうしよう 決済が まともに なること 始めた. 完全 幸い.

本当 下の 文が 最高の 糸口を 提供した. 筆者に 感謝する.

<a href="http://www.google.co.kr/#hl=ko&xhr=t&q='java+socket+encoding+%EC%82%BD%EC%A7%88%EA%B8%B0'&cp=26&pf=p&sclient=psy&newwindow=1&site=&source=hp&aq=f&aqi=&aql=&oq='java+socket+encoding+%EC%82%BD%EC%A7%88%EA%B8%B0'&pbx=1&fp=9bc2c99ee635e670" target="_blank">&#8216;java socket encoding シャベルですくい出し期&#8217;</a>