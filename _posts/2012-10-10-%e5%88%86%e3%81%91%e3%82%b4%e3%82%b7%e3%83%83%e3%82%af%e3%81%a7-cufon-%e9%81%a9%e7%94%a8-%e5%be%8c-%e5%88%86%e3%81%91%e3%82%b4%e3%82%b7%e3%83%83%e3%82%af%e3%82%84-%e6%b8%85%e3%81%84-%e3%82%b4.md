---
title: 分けゴシックで Cufon 適用 後, 分けゴシックや 清い ゴシックが ある 人には 適用するの ない
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/589
aktt_notify_twitter:
  - yes
categories:
  - Web publishing
tags:
  - javascript
  - jQuery
---
使われる ライブラリは <a title="フォントが 設置されて あるのか 確認して 与える javascript" target="_top" href="http://mytory.local/archives/118">jquery.font</a> だ. こいつは 使用者が 該当 字面を 持って あるのか 感知して 与える.

これ 文を 捜して 誤信 方々 中には [Cufon][1]これ 何やら 分からない 粉餌 ない ことで 思う. (Cufon銀 テキストを 受けて 字を 描いて 与える ライブラリだ.)

下の 関数を 利用すれば, 分けゴシックや 清い ゴシック 字面が ある 場合 Cufonを 初めから 飛ばすように なる. 当然 トラフィックが 節約される.(分けゴシックは 付けて 使って, 清い ゴシックは たたえて 使う.)

<pre class="brush:js">function iHaveFont(){
	return ($.font.test(&#039;分けゴシック&#039;) == true || $.font.test(&#039;清い ゴシック&#039;) == true);
}

if(iHaveFont() == false){
	$(&#039;&lt;script/&gt;&#039;,{
		type: &#039;text/javasript&#039;,
		src: &#039;/js-lib/cufon/cufon.js&#039;
	}).appendTo(&#039;head&#039;);

	$(&#039;&lt;script/&gt;&#039;,{
		type: &#039;text/javasript&#039;,
		src: &#039;/js-lib/cufon/NanumGothic_600.font.js&#039;
	}).appendTo(&#039;head&#039;);
}

$(document).ready(function() {
	if(iHaveFont() == false){
		Cufon.replace(&#039;.cufon&#039;);
	}
});</pre>

中 ある if門 中に ある コードは scriptを 生成する 方法だ. これ 方法は <a title="[翻訳] 美しく jQuery エレメント 生成すること Beautiful Element Creation with jQuery" target="_top" href="http://mytory.local/archives/829">&#8216;[翻訳] 美しく jQuery エレメント 生成すること Beautiful Element Creation with jQuery&#8217;</a>に 寝る 説明されて ある.

私が マン 初め 提示した 方法は `document.write('<script type="text/javascript" src="..."></script>')` 形式で 直接 コードを 使う 方式だった. しかし これ 方法を 使うから, 呼んで来るの なくても なる 条件なのに ジャバスクリプト ファイルを 呼んで来る のだった. そのため 方式を 変えた.

## 参照事項

Cufon義 トラフィックを 節約すること ため <a title="[minify] js, css 圧縮  ウェブサイト 速度 増加, トラフィック 節約" target="_top" href="http://mytory.local/archives/1048">jsわ cssを 圧縮して 出す 方法</a>度 参考する に如く.

もし <a title="巨大な 用量の Cufon 字面 js ファイルで 心配なのに php バージョンが 低くて minifyを 使うの できない 人を ための 便法" target="_top" href="http://mytory.local/archives/1161">PHP4を 使う 人なら 私が 説明した 便法を 使用</a>する のも 大丈夫な 解法が なる.

 [1]: https://github.com/sorccu/cufon/wiki/