---
title: Sublime Text 2でSassを使うとき、閉じていないコメントは、コードの強調表示がうまくいかない問題を解決
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/1959
categories:
  - 開発ツール
---
何の声と、Sass文法をSublime Text 2で使用できますが、閉じ表示がないCSSのコメントを処理することができず下全部をコメントアウトする問題があるということだ。 例えば、以下のようになるということだ。 （キャプチャ浮かび上がったのだ。）

![][1]

36行を見ると、コメントが閉じられていないので、その下は全部コメントアウトされるということがわかる。 `sass-convert`を利用して変換したCSSは、ことごとくあのようになる。 つまり、ユーザーのコメントを閉じなくてもSassは分かってうまく処理をするのに、Sublime Text 2のSass拡張は処理ができないのだ。

## 解決 &#8211; コメントを一度に閉じてあげよう

だからブラウズもしたがまあ分からないし、ただ実用的な解決策を用意した。 ただ、すべてのコメントを閉じてくれるのだ。正規表現を利用すると簡単です。

ただし、複数行コメントの場合、正しく処理しないことがありますので、手動で必ずご確認したい。

一応、Sublime Text 2で検索置換に入る。 （Macは`Alt+Cmd+F` 、Windowsは`Ctrl+H`です。）

そして、正規表現を使用すると表示します。 （ `.*`と書かれたボタンを押してください。下の図を参照）

![][2]

そして検索の部分に`/\*(.*)\n`と書いてくれて、変更部分に`/\*$1 \*/\n`と書いてくれる。 そして一度変更！ その後、閉じるがない任意のコメントを閉じてくれる。（ああ、クローズが注釈も多閉じてくれる。注意！）

ただし、上記の正規表現は、単一行のコメントのみを処理する。 したがって、複数行コメントを単場合は、必ず手動処理なければならない。 もし**、複数行のコメントだけのコメントを作成した場合は、上記の正規表現を使用してはならない。**

[2013-03-20追加]お気に入りに`/\*([^=\n\/\*]+)\n`こう書くと、次の場合を除く。

*   `/*`で複数行コメントを開く場合
*   `/* =`で始まるワードプレスTwenty Twelveテーマstyle.cssの二行のコメント
*   `*/`で閉じたコメント

 [1]: http://dl.dropbox.com/u/15546257/blog/mytory/sass-comment-example.png
 [2]: http://dl.dropbox.com/u/15546257/blog/mytory/sumlime-text-2-regex-find.png