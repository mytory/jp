---
title: '[shell] 遠隔 接続して 時間 来ると言う かかる 作業, 接続 切っても 引き続き 進行されるように 夏期 disown'
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/762
aktt_notify_twitter:
  - yes
categories:
  - Web server
tags:
  - shell
---
**要約 : 遠隔 シェルで プロセスが 進行中の 時 一応 Ctrl+Z を 押して 一時停止を させる. そして `bg` と 打って 止められた プロセスを バックグラウンドで 回す. 彼 次 `disown` と 打てば 内 大家 ないと 宣言されながら, 私が 接続を 切っても 引き続き 作業が 帰るように なる.**

<a target="_top" href="http://xguru.net/832">旧塁の 技術ニュース</a>で この前に 本 文だ.

> <a target="_top" href="http://t.co/nOhAHDMQ" rel="nofollow">“何年前から 分かったら?”する リヌックスミョングリョングオは?</a>1などが bash義 ネザングコメンドである `disown` 載せますね. スェルゾングリョすれば 死んでしまう Job野に 大海 私のものいいえ! と 宣言して 殺さなく する 命令

二回か 載せるように 浮び上がったし, 今日 長期間の `rsync` 命令を 使う 仕事が 生じた. そのため 命令語を 実際で 使って 見ようと した.

どうに 使うのか 分からなくて <a target="_top" href="http://www.reddit.com/r/linux/comments/mi80x/give_me_that_one_command_you_wish_you_knew_years/">原文</a>を 捜して 入って行った. といったところ 親切に 使い方が 説明されて あった.

> ssh セションエソゾルだと 長い `rsync`を 始めた 後 ノート・パソコンを 消して 外で 出ると した 経験が ある ことだ. `screen`おこるが `nohup`で 始める ガール 度忘れした ことだ. 一応 一時停止を して(ctrl+z), バックグラウンド 作業で 回す 数 ある.(`bg`) そして `disown` で, あなたが セッションを 終了した 時 SIGHUP路から 保護受けるように 割 数 ある. Bashには (そして 公正に 言えば, zshわ 違う ものなども 似ている でしょうに) 人々が 寝る 分からない 数 ある 良い 作業 制御 命令たちが ある. はなはだしくは 20年 経歴の ベテランだから しても 言葉だ. もっと 分かって たければ <a target="_top" href="http://www.gnu.org/software/bash/manual/bashref.html#Job-Control">これ ページ</a>を 参考しなさい.
> 
> You know how you always start that mega long rsync in an ssh session from your laptop andthen realize you have to go offline halfway through? You forgot to start it in screen or nohup, didn&#8217;t you? You can pause it (ctrl+z), background it (`bg`), and then `disown` it so it is protected from SIGHUPwhen you quit your ssh session. Bash (and, to be fair, zsh and others have copied much of this) has some wonderful job control features most peopleare completely oblivious of &#8211; even veterans of 20 years. Check<a target="_top" href="http://www.gnu.org/software/bash/manual/bashref.html#Job-Control">this page</a>out for more

nohup街 何やら 捜して 見た. hup なく 行いなさいという 言葉 ようなのに, 命令 行う 時 前に 付けて 与える.

SIGHUP増えた ログアウトする 時 jobを 一度に 殺す ガール 言う ようだ. `nohup`増えた SIGHUP なく 命令を 行いなさいという 意味である の ようだ.

<a target="_top" href="http://en.wikipedia.org/wiki/SIGHUP">ウィキペディアに 見たら</a> SIG増えた signalを 意味して, HUP銀 hang upを 意味すると する. それでは SIGHUP銀 signal hang up &#8211; 終了 信号が なる. `nohup` 命令は &#8216;切るの ないでね&#8217;くらい なる.

*SIG*is a common<a title="Prefix (linguistics)" target="_top" href="http://en.wikipedia.org/wiki/Prefix_(linguistics)">prefix</a>for signal names;*HUP*is a<a title="Contraction (grammar)" target="_top" href="http://en.wikipedia.org/wiki/Contraction_(grammar)">contraction</a>of*hang up*.

ところが &#8216;<a target="_top" href="http://kldp.org/node/87464">nohup わ, バックグラウンド 作業</a>&#8216;という 文を 見たら, この頃は 敢えて nohupで 命令を 始めるの なくても 自動で nohupこれ なると する. 確認は くぎ 日 見た. システム 設定を 確認すれば なるのに,

> コマンドラインに `shopt | grep huponexit` と 打てば  
> `huponexit off`  
> と 出ます.  
> `huponexit`増えた `exit` 割 時 `SIGHUP`を あらゆる jobに ボネンダヌンオブションである の ようです.  
> 載せるように 基本に 層 ないですね.

と する. すなわち `huponexit`街 `off`面 セッションを 終了する 時 jobこれ 竹紙 ないという マルイリだと. それでは そのまま Ctrl+Z を 押して 一時停止を たいてい 後, `bg`を 打って バックグラウンド作業で 回した 後, セッションを 出れば なる ようだ. 勿論 私は それでも 心細いから `disown`を 打って 出て 出るつもりだ.

## screen 命令

最後に `screen` 命令語も `nohup`わ 似ている 役目を する のという ガール 確認した. (<a target="_top" href="http://windstop.tistory.com/29">参照1</a>, <a target="_top" href="http://blog.naver.com/kuees98/110108293315">参照2</a>)

1.  `screen -S 作業名前`
2.  抜ける の時は : `Ctrl+A,D`
3.  再び 作業で 入って行くこと : `screen -r 作業名前`
4.  私が した 作業 表示 : `screen -ls`

<pre>screen -S rsyncJob</pre>

上のように 命令を 下れば 鳥 セッションが 始まる. 多分 仮想 何 そんな こと ようだ.

命令を 下った 後 Ctrlを 押したまま A,Dを 順番で 押せば(Ctrl+A,D)`screen` 命令を 下った 画面で 帰って来る. このまま ログアウトしても 作業は 引き続き 帰って あるという ことだ.

作業 中へ 入って行こうとすれば

<pre>screen -r rsyncJob</pre>

こんなに 打てば なるという ことだ.