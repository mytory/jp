---
title: jQuery.log(msg) プラグインを 作って 見た
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/726
aktt_notify_twitter:
  - yes
categories:
  - Web publishing
tags:
  - javascript
  - jQuery
---
ジャバスクリプト デバギングを 割 時 仮装(家長) 多く 使う のは `alert()` 載せる. しかし `alert()` 銀 確認を 押すと する 煩わしさが ある. 確認を 押して 出れば 内容が 消えて 色々 犬の alertこれ 庭 焚く 非效率的な 場合も ある.

そのまま ログを 振り撤いて 与える 関数が あれば 良い の ようだという 考えを して 検索を 日 見た. やっぱり 出た.

jQuery.log(), Logging plugin for jQueryという 文[今は 消えた 2012-06-30]には どうに log 関数を 作るのか 親切に 説明されて ある. (私 英語 文に ある ログ 関数を 持つ 使えば, `$.log.log(msg)`, `$.log.info(msg)` 形式で 使うと する.)

ところが 上 文で おもしろい 関数を 見つけた. `console.log(msg)` 関数だ. クロムで 日 見るから クロムの ジャバスクリプト コンソール(Ctrl+Shift+J)に msg街 撮れる ガール 確認する 数 あった. こういう 数価. log 関数を 敢えて 万たち 必要が なかった ことか;;

ヨトン これ 文を 参考して 私が プラグインを 作って 見た.

<pre class="brush:js">/* jquery.log.mytory.js ver 1.0 */
(function($) {
	$.log = function(message) {
		if( debug == true )
		{
			//if(&#039;console&#039; in window && &#039;log&#039; in window.console)
			if (typeof window.console != &#039;undefined&#039; && typeof window.console.log != &#039;undefined&#039;) {
				console.log(message);
			}

			var messageHTML =
				&#039;&lt;pre class="jquery-log-mytory" style="background-color:#000; color:#00ff00; padding:10px; font-size:16px; font-family: 分けゴシックコーディング"&gt;&#039;
				+ &#039;&lt;span class="jquery-log-mytory-number" style="margin-right: 10px;"&gt;1&lt;/span&gt;&#039;
				+ message
				+ &#039;&lt;/pre&gt;&#039;;

			$logDiv = $(&#039;.jquery-log-mytory&#039;);

			if( $logDiv.length &gt; 0 )
			{
				var number = parseInt( $(&#039;.jquery-log-mytory-number:last&#039;).text() ) + 1;
				$logDiv.append("n" + &#039;&lt;span class="jquery-log-mytory-number" style="margin-right: 10px;"&gt;&#039; + number + &#039;&lt;/span&gt;&#039; + message);
			}
			else
			{
				$(&#039;body&#039;).prepend(messageHTML);
			}
		}
	}
})(jQuery);</pre>

機能は 単純だ. 一応 ジャバスクリプト コンソールが ある 場合には コンソールにも メッセージを 振り撤いて 与える. そして HTML ページの マン 上に 真黒い 土台に 緑色 字で ログを 取って 与える. 各 ログには 番号が 付いて ある. 終りだ.

コードが 仮装(家長) こぎれいな 件 ないのに 何 性能が 激 必要で そんな プラグインが ないから 星 上官 ないと 思う. 使いながら 改善すれば なるの.

## console.log() を 使う 時 注意点

私が 紹介した 英語 文を 見れば console.log を 使う 時 下のように ゾゴンムンで くるむんです ある.

<pre class="brush:js">if (typeof window.console != &#039;undefined&#039; && typeof window.console.log != &#039;undefined&#039;) {
	console.log(message);
}</pre>

理由が ある. 分からなかったが たまねぎ 様が <a target="_top" href="http://jp.mytory.local/wp-content/temp/get_post.php?p=726#comment-2529">デッグル</a>路 言って 与えて 分かった.

> 参照で console 客体は IE8 以上, クロム, ファイアフォックス, サファリ 皆 支援します. ファイアバグや クロム開発子道で, IE開発子道で(F12) 等々
> 
> console.log() 以外に dir(), info(), error() など 色々 内臓メソッドが 存在して デバギングの時に 有用です.
> 
> ただ console 客体 使用の時 IEでは 開発者道具を つけるの ない 状態で console 客体を 使うとか IE7 以下で 使うように なれば スクリプト エラーが 出たら 気を付けて 使うと します.