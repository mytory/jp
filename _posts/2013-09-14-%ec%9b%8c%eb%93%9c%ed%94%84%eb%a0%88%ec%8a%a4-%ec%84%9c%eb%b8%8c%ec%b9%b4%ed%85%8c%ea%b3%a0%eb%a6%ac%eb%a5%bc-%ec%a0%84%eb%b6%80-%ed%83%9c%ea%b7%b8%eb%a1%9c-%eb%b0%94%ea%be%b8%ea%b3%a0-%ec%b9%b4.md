---
title: '[ワードプレス]サブカテゴリーのすべてのタグに変更し、カテゴリを最上位のカテゴリに設定する'
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/2130
daumview_id:
  - 49938283
categories:
  - WordPress
tags:
  - WordPress Tip
---
私のブログのカテゴリ構造はあまりよくない。だからトップレベルのカテゴリのみ残して、サブカテゴリーはすべてタグに変換することにした。ところが、**Web server > PHP > PHPUnit**形態のカテゴリに属している文があるとしよう。私はこのような場合、PHPUnitのみ文が含まれていた。ワードプレスは、Webサーバカテゴリの一覧を読み込むと、自動的にサブカテゴリーに属する記事を呼んで来るので問題になることはなかった。

しかし、カテゴリをそのままタグに変換すると、この例の文の場合には以下のような問題が生じる。

*   PHPUnitというタグが持つようになり、PHPとタグはありません。
*   Webサーバーカテゴリの文が消えカテゴリがない文になります。

だから、次のような手続きを踏むのコードを作成し修正した。

1.  すべての親カテゴリに記事を含める。つまり、この例の文の場合は、WebサーバーとPHPのカテゴリにもいちいち文を含めるようにする。
2.  最上位のカテゴリではなく、サブカテゴリーを一括してタグに変更します。この例の文の場合、PHPのPHPUnitがタグに変わるだろう。

だから、カテゴリーを1段階だけ残るようになった。サブカテゴリーはない。中規模の分類は、タグにになった。コードは以下を参照。