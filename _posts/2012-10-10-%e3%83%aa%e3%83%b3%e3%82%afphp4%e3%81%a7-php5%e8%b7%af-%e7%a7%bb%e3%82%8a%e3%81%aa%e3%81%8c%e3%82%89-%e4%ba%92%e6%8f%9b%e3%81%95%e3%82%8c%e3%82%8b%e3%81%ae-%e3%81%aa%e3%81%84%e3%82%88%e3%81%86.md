---
title: '[リンク]PHP4で PHP5路 移りながら 互換されるの ないように なった いくつかの点'
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/406
aktt_notify_twitter:
  - yes
categories:
  - Web server
tags:
  - PHP
---
今日は これ ブルログルを 私が 初め 作りながら 思った 機能である [リンク] 機能を さて 多く 活用する 捺印 ようだ.

知りたい 蟹 多かったし, 捜して ボール 時間が あったし, おもしろい 蟹 多く 出た だからだ.

ヨトンガンに, <a href="http://www.php.net/manual/kr/migration5.incompatible.php" target="_blank">PHP4で PHP5路 移りながら 互換されるの ないように なった いくつかの点を 説明した 文書</a>街 PHP.netに ハングルで 堂堂と ある のを 見つけた.

そのため ポダノッギで 決定! 変わった 点 全体を 報告 たい 人は ここを : <a href="http://www.php.net/manual/kr/migration5.php" target="_blank">変わった 点 全体 表示</a>(ハングル)

<div id="migration5.incompatible" class="section">
  <h2 class="title">
    以前 バージョンと 互換されるの ない 変更店
  </h2>
  
  <p class="para">
    既存 PHP 4 コードの 大部分は 変更 なく 作動するが, 次の 互換 なるの ない 変更店には 気を付けると します:
  </p>
  
  <ul class="itemizedlist">
    <li class="listitem">
      <span class="simpara"><a class="link" target="_top" href="http://www.php.net/manual/kr/reserved.keywords.php">鳥 予約語</a>街 あります. </span>
    </li>
    <li class="listitem">
      <span class="simpara"><a class="function" target="_top" href="http://www.php.net/manual/kr/function.strrpos.php">strrpos()</a>わ <a class="function" target="_top" href="http://www.php.net/manual/kr/function.strripos.php">strripos()</a>街 全体 文字列を needle路 使います. </span>
    </li>
    <li class="listitem">
      <span class="simpara">文字列 オフセットの 非正常的な 使用は <strong><tt class="constant">E_WARNING</tt></strong> 代わり <strong><tt class="constant">E_ERROR</tt></strong>を 発生します. 非正常的な 使用の 例題: <em>$str = &#8216;abc'; unset($set[0]);</em> </span>
    </li>
    <li class="listitem">
      <span class="simpara"><a class="function" target="_top" href="http://www.php.net/manual/kr/function.array-merge.php">array_merge()</a>街 配列のみを 受け入れるように 変更されました. 配列が ない 値段を 越せば, そういう 引受ごとに <strong><tt class="constant">E_WARNING</tt></strong>を 発生します. コードが 急に <strong><tt class="constant">E_WARNING</tt></strong>を 表示すること 始める 数 あるので 気を付けてください. </span>
    </li>
    <li class="listitem">
      <span class="simpara">これ以上 Apahce2 SAPIで PATH_TRANSLATED サーバー 変数を 自動で 設定するの ないです. PHP 4では 痛がら 生成するの なかった 時, SCRIPT_FILENAME サーバー 変数と 等しく 設定しました. これ 変更は CGI 規格に よること ための 点です. 詳細な 情報は バグ #23610[phpバグを 収集する サーバー ダウンで 今は ページが 消えた.-緑風]を 確認して, マニュアルで <var class="varname"><a class="classname" target="_top" href="http://www.php.net/manual/kr/reserved.variables.server.php">$_SERVER['PATH_TRANSLATED']</a></var> 説明を 参考してください. これ 内容は PHP >= 4.3.2江戸 影響が あります. </span>
    </li>
    <li class="listitem">
      <span class="simpara"><a class="link" target="_top" href="http://www.php.net/manual/kr/ref.tokenizer.php">Tokenizer</a> 拡張は もっと 以上 <strong><tt class="constant">T_ML_COMMENT</tt></strong> 定数を 定義するの ないです. error_reportingを <strong><tt class="constant">E_ALL</tt></strong>路 設定すれば, PHP街 株疑問を 生成します. <strong><tt class="constant">T_ML_COMMENT</tt></strong>増えた 使われるの なかったが, PHP 4で 正義されて ありました. PHP 4わ PHP 5 ふたつ だ, <strong><tt class="constant">T_COMMENT</tt></strong> 定数が //わ /* */を 皆 認識します. しかし PHP 5で 取り入れた, PHP街 処理する PHPDoc スタイル 柱石 /** */銀, <strong><tt class="constant">T_DOC_COMMENT</tt></strong>路 認識します. </span>
    </li>
    <li class="listitem">
      <span class="simpara"><a class="link" target="_top" href="http://www.php.net/manual/kr/ini.core.php#ini.variables-order">variables_order</a>街 &#8220;S&#8221;を 含みと あれば, $_SERVER増えた <var class="varname">argc</var>わ <var class="varname">argv</var>を 持つと します. システムが $_SERVERを 生成するの ないように 設定したら, 勿論 存在するの なかったです. 変更 後には <a class="link" target="_top" href="http://www.php.net/manual/kr/ini.core.php#ini.variables-order">variables_order</a> 設定に 関係 なく, CLI バージョンで <var class="varname">argc</var>わ <var class="varname">argv</var>を 使う 数 あるように 作ります. また, CLI バージョンは 常に 全域の <var class="varname"><a class="classname" target="_top" href="http://www.php.net/manual/kr/reserved.variables.argc.php">$argc</a></var>わ <var class="varname"><a class="classname" target="_top" href="http://www.php.net/manual/kr/reserved.variables.argv.php">$argv</a></var>度 持つように なりました. </span>
    </li>
    <li class="listitem">
      <span class="simpara">プロパティーが ない 客体を もっと 以上 &#8220;ヴィン&#8221; ので 判断するの ないです. </span>
    </li>
    <li class="listitem">
      <span class="simpara">いくつか 場合に クラスは 使うこと 前に 宣言すると します. おこる PHP 5義 新機能(<a class="link" target="_top" href="http://www.php.net/manual/kr/language.oop5.interfaces.php">インターフェース</a> など)を 使う 場合で, 違う 場合には 以前と ようです. </span>
    </li>
    <li class="listitem">
      <span class="simpara"><a class="function" target="_top" href="http://www.php.net/manual/kr/function.get-class.php">get_class()</a>, <a class="function" target="_top" href="http://www.php.net/manual/kr/function.get-parent-class.php">get_parent_class()</a>, <a class="function" target="_top" href="http://www.php.net/manual/kr/function.get-class-methods.php">get_class_methods()</a>街 クラス/メソド 名前を 宣言した 大道(大小文字 仕分け) 返還するので, 以前の 動作(クラス/メソド 名前を 常に 小文字で 返還)に 寄り掛かる スクリプトに 問題が 発生します. 解き方 中 一つは あらゆる スクリプトで 上 関数たちを 検索して <a class="function" target="_top" href="http://www.php.net/manual/kr/function.strtolower.php">strtolower()</a>を 適用する 方法です. </span><span class="simpara">これ 大小文字 仕分けは <a class="link" target="_top" href="http://www.php.net/manual/kr/language.constants.predefined.php">魔法 予約 定数</a> <strong><tt class="constant">__CLASS__</tt></strong>, <strong><tt class="constant">__METHOD__</tt></strong>, <strong><tt class="constant">__FUNCTION__</tt></strong>江戸 適用されます. 返還される 価格は 正確に 宣言した 大道(大小文字 仕分け) です. </span>
    </li>
    <li class="listitem">
      <span class="simpara"><a class="function" target="_top" href="http://www.php.net/manual/kr/function.ip2long.php">ip2long()</a>に 誤った IP 住所を 引受で 越した 時 今 <em>-1</em>これ ない <strong><tt class="constant">FALSE</tt></strong>を 返還します. </span>
    </li>
    <li class="listitem">
      <span class="simpara">含んだ ファイルに 関数 正義が あれば, <a class="function" target="_top" href="http://www.php.net/manual/kr/function.return.php">return()</a>義 位置に 上官 なく メイン ファイルで 独立的に 使う 数 あります. 彼 ファイルを 二度 含めば, PHP 5増えた 関数が もう 正義されて あるから, 致命的な 間違いを 発生します. PHP 4増えた 何らの 間違いを ないし なかったです. 含む ファイルで 含み 可否を 判断して リターンする 代わり, <a class="function" target="_top" href="http://www.php.net/manual/kr/function.include-once.php">include_once()</a>を 使うように 勧奨します. </span>
    </li>
    <li class="listitem">
      <span class="simpara"><a class="function" target="_top" href="http://www.php.net/manual/kr/function.include-once.php">include_once()</a>わ <a class="function" target="_top" href="http://www.php.net/manual/kr/function.require-once.php">require_once()</a>銀 ウィンドウで 含む ファイルの 経路を 正規化して, A.phpわ a.php増えた 一度だけ 含むように なります. </span>
    </li>
  </ul>
  
  <div class="example">
    <strong>Example #1 <a class="function" target="_top" href="http://www.php.net/manual/kr/function.strrpos.php">strrpos()</a>わ <a class="function" target="_top" href="http://www.php.net/manual/kr/function.strripos.php">strripos()</a>街 全体 文字列を needle路 使います.</strong></p> <div class="example-contents programlisting">
      <div class="phpcode">
        <code>&lt;span style="color: #000000;">&lt;span style="color: #0000bb;">&lt;?php&lt;br />
var_dump&lt;/span>&lt;span style="color: #007700;">(&lt;/span>&lt;span style="color: #0000bb;">strrpos&lt;/span>&lt;span style="color: #007700;">(&lt;/span>&lt;span style="color: #dd0000;">'ABCDEF'&lt;/span>&lt;span style="color: #007700;">,&lt;/span>&lt;span style="color: #dd0000;">'DEF'&lt;/span>&lt;span style="color: #007700;">)); &lt;/span>&lt;span style="color: #ff8000;">//int(3) &lt;/span>&lt;/span></code><code>&lt;span style="color: #0000bb;">var_dump&lt;/span>&lt;span style="color: #007700;">(&lt;/span>&lt;span style="color: #0000bb;">strrpos&lt;/span>&lt;span style="color: #007700;">(&lt;/span>&lt;span style="color: #dd0000;">'ABCDEF'&lt;/span>&lt;span style="color: #007700;">,&lt;/span>&lt;span style="color: #dd0000;">'DAF'&lt;/span>&lt;span style="color: #007700;">)); &lt;/span>&lt;span style="color: #ff8000;">//bool(false)&lt;br />
&lt;/span>&lt;span style="color: #0000bb;">?&gt;&lt;/span> </code></p>
      </div>
    </div>
  </div>
  
  <div class="example">
    <strong>Example #2 プロパティーが ない 客体を もっと 以上 &#8220;ヴィン&#8221; ので 判断するの ないです.</strong></p> <div class="example-contents programlisting">
      <div class="phpcode">
        <code>&lt;span style="color: #000000;">&lt;span style="color: #0000bb;">&lt;?php&lt;br />
&lt;/span>&lt;span style="color: #007700;">class &lt;/span>&lt;span style="color: #0000bb;">test &lt;/span>&lt;span style="color: #007700;">{ }&lt;br />
&lt;/span>&lt;span style="color: #0000bb;">$t &lt;/span>&lt;span style="color: #007700;">= new &lt;/span>&lt;span style="color: #0000bb;">test&lt;/span>&lt;span style="color: #007700;">();&lt;span style="color: #0000bb;">var_dump&lt;/span>&lt;span style="color: #007700;">(empty(&lt;/span>&lt;span style="color: #0000bb;">$t&lt;/span>&lt;span style="color: #007700;">)); &lt;/span>&lt;span style="color: #ff8000;">// echo bool(false)&lt;/span>&lt;/p>
&lt;p>&lt;/span>&lt;/span></code><code>&lt;span style="color: #007700;">if (&lt;/span>&lt;span style="color: #0000bb;">$t&lt;/span>&lt;span style="color: #007700;">) {&lt;br />
&lt;/span>&lt;span style="&lt;/p>
&lt;p>		&lt;script language=JavaScript>&lt;br />
		function j2k_select_translate() {&lt;br />
			if (document.getSelection) text = document.getSelection();&lt;br />
			else if (document.selection) text = document.selection.createRange().text;&lt;br />
			else return;&lt;/p>
&lt;p>			var j2k_window = window.open(" http:="" jptrans.naver.net="" j2k_brief.php?mode="k2j&selection="" +="" text.replace(="" g,="" "+"),="" "_blank",="" "left="1,top=1,width=585,height=370,status=yes,resizable=yes,toolbar=yes");" j2k_window.focus();="" }="" &lt;="" script="">&lt;/p>
&lt;p>&lt;/span></code>
      </div>
    </div>
  </div>
</div>