---
title: javascript アニメーション メニュー コーディングの時 有意店
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/167
aktt_notify_twitter:
  - yes
categories:
  - Web publishing
tags:
  - javascript
  - jQuery
---
フラッシュで なった ナビゲーション メニューを ジャバスクリプトで 変えてくれと言う 依頼が 入って来た.

理由は 簡単だ. フラッシュは 政府で 指定した 標準 コーディング 検事を パスするの できない だからだ.(フラッシュを 維持しようと 割 場合 障害者を ための 代替 リンク, noscriptイン 場合の ページを 必ず 見えると する の ようだ. 正確な 内容は <a href="http://www.wah.or.kr/" target="_blank">ウェブ接近盛宴旧ソ</a> 文書を 参考すること ところする.)

<a href="http://www.google.com/search?sourceid=chrome&ie=UTF-8&q=jquery+dropdown+menu" target="_blank">jquery dropdown menu路 検索</a>を すれば おびただしく 多い メニュー 方法が 出る. ところが <a target="_top" href="http://shc.or.kr/">http://shc.or.kr/</a>&nbsp;形態の メニューは 寝る 出るの なかった.

そのため そのまま 分かって 具現を 日 見ることに した. どっちみち 絵も おびただしく 多くて いちいち 土方で 作ると したり した.(メニューは text路 する 蟹 仮装(家長) ましだ. alt 入れた イメージは 次善策だ.)

## 核心は visibility:hidden

下を 見よう. マウスを 何回 来て行った すれば おもしろい 仕事が 起る. <a href="http://www.youtube.com/watch?v=fk7gum_SJeE" target="_blank">メニューが 地 勝手に 引き続き 動く.(</a><a href="http://www.youtube.com/watch?v=fk7gum_SJeE" target="_blank">動画 参照</a>)

### メニューが 地 勝手に 引き続き 動く 場合

<ul class="menutest1">
  <li>
    メニュー1 <ul style="display: none;">
      <li>
        メニュー1-1
      </li>
      <li>
        メニュー1-2
      </li>
    </ul>
  </li>
  
  <li>
    メニュー2 <ul style="display: none;">
      <li>
        メニュー2-1
      </li>
      <li>
        メニュー2-2
      </li>
    </ul>
  </li>
</ul>

<pre class="brush:html">&lt;ul class="menutest1"&gt;
  &lt;li&gt;メニュー1
    &lt;ul&gt;
      &lt;li&gt;メニュー1-1&lt;/li&gt;
      &lt;li&gt;メニュー1-2&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;メニュー2
    &lt;ul&gt;
      &lt;li&gt;メニュー2-1&lt;/li&gt;
      &lt;li&gt;メニュー2-2&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</pre>

<pre class="brush:js">jQuery(function(){
  var $ = jQuery;
  $(&#039;.menutest1 li ul&#039;).hide();
  $(&#039;.menutest1 li&#039;).hover(function(){
    $(this).children().show(&#039;slow&#039;);
  }, function(){
    $(this).children().hide(&#039;slow&#039;);
  })
});
</pre>

### メニューが 中 閉まって 残っている 場合

もう一つの 場合は <a href="http://www.youtube.com/watch?v=Ww0-e646cTk" target="_blank">下位メニューが 中 閉まって 重なって 出るように なる 場合(動画)</a>だ.

<ul class="menutest2">
  <li>
    メニュー1 <ul style="display: none;">
      <li>
        メニュー1-1
      </li>
      <li>
        メニュー1-2
      </li>
    </ul>
  </li>
  
  <li>
    メニュー2 <ul style="display: none;">
      <li>
        メニュー2-1
      </li>
      <li>
        メニュー2-2
      </li>
    </ul>
  </li>
</ul>

<pre class="brush:css">.menutest2{position:relative;width: 600px; height:60px;}
.menutest2 li{float:left; margin-left:20px;}
.menutest2 li ul{width:500px;position:absolute;top:20px;}
.menutest2 li ul li{float:left; margin-left:20px;}
</pre>

<pre class="brush:js">jQuery(function(){
  var $ = jQuery;
  $(&#039;.menutest2 li ul&#039;).hide();
  $(&#039;.menutest2 li&#039;).hover(function(){
    $(this).children().show(&#039;slow&#039;);
  }, function(){
    $(this).children().hide();
  })
});</pre>

上 場合は マウスが メニュー1おこるが メニュー2義 外で 抜けて 出る 場合 hide() 関数を 使って 下位メニューを 閉める 時 アニメーション 效果を 使うの なかった. ところが, 今度は 下位メニューが 消えるの ない バグが 生じた.

アニメーションで 下位メニューが だ 開かれること 前に マウスが 上位メニューで すり抜けて来る 場合に こういう 場合が 生ずる. 

理由は 簡単だ. hide() 関数は display:none で cssを 作る 関数だ. ところが アニメーションが 持続して ある 時 display:noneを させれば ちょっと 間 中 見えた 次 アニメーションは 引き続き 作動しながら 再び 見えるように なる のだ.

そのため 使うと する 蟹 css義 visibility:hidden 速成だ.

### まともに なった アニメーション メニュー

<ul class="menutest3">
  <li>
    メニュー1 <ul style="display: none;">
      <li>
        メニュー1-1
      </li>
      <li>
        メニュー1-2
      </li>
    </ul>
  </li>
  
  <li>
    メニュー2 <ul style="display: none;">
      <li>
        メニュー2-1
      </li>
      <li>
        メニュー2-2
      </li>
    </ul>
  </li>
</ul>

<pre class="brush:js">jQuery(function(){
  var $ = jQuery;
  $(&#039;.menutest3 li ul&#039;).hide();
  $(&#039;.menutest3 li&#039;).hover(function(){
    $(this).children().css({visibility: &#039;visible&#039;,display: &#039;none&#039;}).show(&#039;slow&#039;);
  }, function(){
    $(this).children().css(&#039;visibility&#039;,&#039;hidden&#039;);
  })
});</pre>

上 コードが まともに なった アニメーション メニューを 作る コードだ.

核心は 簡単だ. マウスが 範囲を 去った 焚く visibility万 hiddenで 作る. それでは displayに 構わずに 一応 メニューは 閉まるように なる.

マウスが メニュー1,2に 上がった 時 visibilityを visible路 作って displayを noneで 作った 次 アニメーションを 始める. これ 過程が 連続的に 成り立つこと だから もう 実行されて あった アニメーションは 作動を 止めるように なる の ようだ.

上 コードと cssを 土台で まともに なった アニメーション メニューを 万たち 数 あること 望む.

これ 例題を ファイルで 添付する.

<a target="_top" href="http://dl.dropboxusercontent.com/u/15546257/blog/mytory/old-images/1/cfile25.uf.177112514D4BC88325016C.zip" class="aligncenter"></a>cfile25.uf.177112514D4BC88325016C.zip