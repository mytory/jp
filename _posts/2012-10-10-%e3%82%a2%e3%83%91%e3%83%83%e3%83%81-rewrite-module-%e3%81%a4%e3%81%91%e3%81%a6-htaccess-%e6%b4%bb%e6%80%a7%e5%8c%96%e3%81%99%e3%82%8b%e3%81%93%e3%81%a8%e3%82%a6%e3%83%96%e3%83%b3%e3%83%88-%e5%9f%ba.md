---
title: アパッチ rewrite module つけて .htaccess 活性化すること(ウブント 基準)
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/85
aktt_notify_twitter:
  - yes
categories:
  - Web server
tags:
  - apache
---
一応 グリーン費&断尾 ブログで 本 <a target="_top" href="http://lica1.tistory.com/entry/%ED%83%9C%ED%84%B0%ED%88%B4%EC%A6%88-%EC%84%A4%EC%B9%98%EB%95%8C-%EC%95%84%ED%8C%8C%EC%B9%98-rewrite-%EB%AA%A8%EB%93%88%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0%EB%B2%95">テトトルズ 設置時 アパッチ rewrite モジュール問題 解き方</a>に 大きい 世話を 負けたことを 明らかにしなくちゃいけない.

## .htaccess ファイルは 何か?

.htaccess ファイルは apache サーバーで 各 フォルダに 位しながら アパッチ セッティングを フォルダ別で 変更する 数 あるように する ファイルなのに, 最近には 住所 表示ラインを 簡単に 直す ところ 多く 使う. 使い方は 簡単だ. .htaccessという 名前の ファイルを 生成して, 文法に 当たるように 内容を 満たして, 適用すること 願う フォルダに 入れれば なる. .htaccess 前に 付く 点(.)銀 リナックス で 隠しファイルを 意味する ファイル名だ. ドドドルも 以外に 正確に &#8216;.htaccess&#8217;という 名前で ファイルを 作ると する. ウィンドウで そのまま 作ろうと すれば エラーが 日 側で, エディット プラス ような ところ 入って行って 鳥 名前で 保存を 選択して .htaccess という 名前で 保存を すれば 作られる.

ウブントで 初め apache2を 設置すれば rewirte moduleこれ 活性化 なっているの ない. 何か マルインゴ したら, .htaccess ファイルを 使う 数 ないという 言葉だ.

多分 エラー ログを よく見れば 下と ような 竝びが 使って ある のだ.

<pre class="brush:plain">.htaccess: Invalid command &#039;RewriteEngine&#039;, perhaps misspelled or defined by a module not included in the server configuration</pre>

.htaccess ファイルは 自分が 位した フォルダと 下位フォルダに 影響を 及ぶ アパッチ 設定 ファイルだ. ところが ヨノムが このごろ 多く 使われる. 住所を 短く 減らして 週期 だからだ.

読者が プログラマーである のだと 仮定して 言う. GET 方式で 変数を 越す 時 こういう 式で 住所 表示ラインを 使う のだ.

<pre class="brush:plain">http://mywebsite.com/content/index.php?no=500</pre>

index.php ファイルを 呼んで来るが, $\_GET\[no\](PHP4までは そのまま $no路 受ける 首都 あったが 保安 問題 だから 5からは そうに 割 スオブゲ 基本設定を 日 置いた. もし php5でも php4のように 使って たければ php.iniで register\_globals = Onで 設定すれば なる.)に 500イラン 値段を 入れなさいという 意味である ガール 分かって ある のだ.

ところが .htaccessを 使えば これ 住所を 下と ような 形式で 変える 数 ある.

<pre class="brush:plain">http://mywebsite.com/content/500</pre>

ずっと 簡便な 住所が なる のだ.

こんなに する 理由は, 検索エンジンが 住所を 読み取り 易しく 夏期 ためのためだと する.

## rewrite_module銀 それでは?

定木, 先に進んで 言ったように, .htaccess ファイルを 使うこと ためには rewrite_moduleを 活性化させると する.

ウブントで 設置する 痛がるのは 基本的に これ rewrite_moduleこれ 非活性化 なっている する.

(rewrite_moduleこれ 活性化になっているのか ないか 確認する 方法は 上で 紹介した <a target="_top" href="http://lica1.tistory.com/entry/%ED%83%9C%ED%84%B0%ED%88%B4%EC%A6%88-%EC%84%A4%EC%B9%98%EB%95%8C-%EC%95%84%ED%8C%8C%EC%B9%98-rewrite-%EB%AA%A8%EB%93%88%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0%EB%B2%95">テトトルズ 設置時 アパッチ rewrite モジュール問題 解き方</a>に 出ていたら 参考すること 望む.)

そうだったら, 活性化すること ため, 一応 ターミナルで 次 命令語を 入力する. 勿論 管理者 権限で 入力すると する. 管理者 モードで 接続すること ない 場合が 多い 側だから, 管理者 権限で 命令を 行う 数 ある sudoを 前に 付けて 命令語を 使うように する.

<pre class="brush:plain">sudo a2enmod rewrite</pre>

そして やっぱり root 権限で アパッチ 設定ファイルを 食わすと する.

今度には Alt+F2を 押して ノーチラス(ウブントの ファイル 探索器)を 管理者 権限で 実行させて 見よう.

Alt+F2を 押した 時 浮かぶ 窓に 下と 一緒に 入力して エンターを 梔子.

<pre class="brush:plain">gksu nautilus</pre>

それでは 管理者 権限で ノーチラスが 実行される.

(勿論 敢えて Alt+F2を 押すの なくて ターミナルで ところで 入力しても 関係ない.)

## /etc/apache2/apache2.conf 修正

定木, 探索を 真書 /etc/apache2/apache2.conf ファイルを 修正しよう. gedit路 開けば なる. 多分 ダブルクリックすれば なる ことだ. 行う かけるのか 何をする かけるのか こういう 式で 問ったら &#8216;表示&#8217;を 選択する.

ここに 次 設定を 追加して 与える.

<pre class="brush:plain">&lt;IfModule mod_rewrite.c&gt;
rewriteEngine On
&lt;/IfModule&gt;</pre>

そして また 一つ 残った.

## /etc/apache2/sites-enabled/000-default 修正

また 探索を 真書 /etc/apache2/sites-enabled/000-default ファイルを 開こう.

ここで 次を 修正する.

<pre class="brush:plain">&lt;Directory /var/www/&gt;
Options Indexes FollowSymLinks MultiViews
AllowOverride all
Order allow,deny</pre>

上で AllowOverride 項目が 多分 noneおこるが deny路 なって ある のだ. あれを all路 直して 与える.

allこれ 保安に 別に 中 良くて 違う ガール 使って 与える 蟹 ましなの ないかと言う 意見を 本 赤道 あるのに 私が 分からないから パスする.

もし 仮想 ホスト(virtual host)を 使って あったら そこにも AllowOverride街 noneおこるが deny路 なって あるの ないか 確認して 見ると する.

## アパッチ 再始作(apache restart)

だ しておいて なぜ だめなの 悩むの ないのを 望む.

アパッチ 再始作 命令語を 入力して 与えると する.

<pre class="brush:plain">sudo /etc/init.d/apache2 restart</pre>

上 命令語を 入力すれば 終了. 今 寝る なる のだ.

もし 寝る 中 なったら? こういう の時は 必ず エラー ログを 確認する. それが 楽な 道だ.

<span style="font-size: 20px; font-weight: bold;">.htaccess義 権限 確認</span>

私は 次と ような エラー ログが 撮れて あった.

<pre>[Tue Apr 19 13:27:58 2011] [crit] [client 127.0.0.1] (13)Permission denied: /home/mytory/.htaccess pcfg_openfile: unable to check htaccess file, ensure it is readable</pre>

ところで 載せるように 狂う 役である 蟹, 分明 .htaccessを 777路 権限 変更を 日 与えた だからだった.

検索を 日 見てから 分かった. mytory フォルダが 読む 数 なく なって あった. すなわち, フォルダと .htaccess 権限 ふたつ 違う 痛がら 読む 数 あるように 作って 与えると する.

.htaccess増えた 基本的に 隠しファイルだ. ノーチラスで **編集-基本 設定** で 入って行った 後 **隠し/バックアップ派である 表示**に チェックを 日 与えれば ボール 数 ある.(あるいは Ctrl+H)

ファイルを 選択して 速成を 見れば 権限 タップが ある. ここで 誰が 持ち主であり 誰が 読む 数 あるのか などを 設定する 数 ある.

[ドッ] 上どおり だ 行ったが 中 なれば 違う 原因が ある のだ. rewriteモジュール 以外に 違う 原因を 捜して 表示 望む. 例えば, 私は rewrite モジュール だからが なく register_grobals だから 引き続き 間違いが 出た. これ 文の 角柱 1番(回)を 参考すれば コンパニオン なる のだ.