---
title: '[PHP] サーバー団で ajax 要請なのか ないか 判断する コード'
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/1830
categories:
  - Web server
tags:
  - PHP
---
スマッシュ マガジンの <a href="http://wp.smashingmagazine.com/2011/10/18/how-to-use-ajax-in-wordpress/" target="_top">How To Use AJAX In WordPress(ワードプレスで アザックス 使う 方法)</a>を 見てから 分かるように なった コードだ.

<pre class="brush: php; gutter: true; first-line: 1; highlight: []; html-script: false">if(!empty($_SERVER[&#039;HTTP_X_REQUESTED_WITH&#039;]) && 
strtolower($_SERVER[&#039;HTTP_X_REQUESTED_WITH&#039;]) == &#039;xmlhttprequest&#039;) {
   $result = json_encode($result);
   echo $result;
}
else {
   header("Location: ".$_SERVER["HTTP_REFERER"]);
}</pre>

AJAX 要請である 場合に `$_SERVER['HTTP_X_REQUESTED_WITH']` スーパー 変数が `xmlhttprequest`という 値段で 自動 セティングドエナより.