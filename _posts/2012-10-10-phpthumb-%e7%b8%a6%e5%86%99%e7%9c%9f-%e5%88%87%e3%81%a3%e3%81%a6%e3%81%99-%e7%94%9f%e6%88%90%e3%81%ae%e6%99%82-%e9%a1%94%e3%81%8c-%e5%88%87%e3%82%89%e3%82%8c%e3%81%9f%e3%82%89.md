---
title: phpThumb 縦写真 切ってす 生成の時 顔が 切られたら?
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/477
aktt_notify_twitter:
  - yes
categories:
  - Web server
tags:
  - PHP
  - phpThumb()
---
phpThumb お陰に ソムネである 心配なしに 山地 何 株価 結構です. <div>
  徹底的に APIを 分析, 勉強して プログラムを 設置した 蟹 大きい コンパニオン なった の ようです.
</div>

<div>
  ところが 問題が 生じました.
</div>

<div>
  人 顔が ある 縦写真で 横 模様の ソムネイルを 生成するから 人 顔が 切られて 捨てる のでした.
</div>

<div>
  下を 参考してください.
</div>

<div>
  <div style="width: 310px" class="wp-caption aligncenter">
    <img src="http://dl.dropboxusercontent.com/u/15546257/blog/mytory/old-images/1/cfile22.uf.180D9C494D4BC950264C00.jpg" alt="" height="464" width="300" /><p class="wp-caption-text">
      △載せるように 原本です. クリックすれば これ 写真が ある 記事で 行きます.
    </p>
  </div>
</div>

<div>
  <div style="width: 80px" class="wp-caption aligncenter">
    <img src="http://dl.dropboxusercontent.com/u/15546257/blog/mytory/old-images/1/cfile26.uf.132592484D4BC9512F1E9F.jpg" alt="" height="50" width="70" /><p class="wp-caption-text">
      △横 70px, 縦 50px義 ソムネイルを 生成しよう こんなに ノ・フェチャン 進歩新党 代表の 顔が 切られて 捨てます.
    </p>
  </div>
</div>

<div>
  明確に 切る 時 位置を 調整する 方法が ある ことと 思って 再び phpThumb義 APIを 立ち後れました.
</div>

<div>
  やっぱり ありました. 二 枝 方法が ありました. 彼 中に 效率的だと 思う 方法を お知らせいたします.
</div>

## 写真 切って ソムネである 万たち 時 位置を 決める 方法

<div>
  一応, 修正した 結果は 下のように 結構です.
</div>

<div>
  <div style="width: 80px" class="wp-caption aligncenter">
    <img src="http://dl.dropboxusercontent.com/u/15546257/blog/mytory/old-images/1/cfile10.uf.111D52524D4BC95126CF3F.jpg" alt="" height="50" width="70" /><p class="wp-caption-text">
      △修正した 後 姿です. 縦写真である 場合 少し 上側を 切るように しました.
    </p>
  </div>
</div>

<div>
  これを しながら <a href="http://phpthumb.sourceforge.net/demo/demo/phpThumb.demo.demo.php#x4" target="_blank">参考した デモ ページは ここ</a>です.
</div>

<div>
  そして 上 写真の 住所は 下と ようです.
</div>

<div>
  http://www.left21.com/phpThumb/phpThumb.php?w=70&sx=0&sy=30&sw=300&sh=214&src=/Photo/left21_0034/left21_0034_10.jpg
</div>

<div>
  定木, 下の 切符は 上で 使った 各 変数たちを 現わします.(<a href="http://phpthumb.sourceforge.net/demo/docs/phpthumb.readme.txt" target="_blank">phpThumb readme.txt</a>義 parameters 項目を 参考すれば なります.)
</div>

<div>
  <table style="width:450px;height:40px;border:none;" bgcolor="#aaaaaa" cellpadding="0" cellspacing="1">
    <tr bgcolor="#ffffff">
      <td width="135">
        &nbsp;<b>変数人</b>
      </td>
      
      <td width="135">
        <b>&nbsp;何か?</b>
      </td>
      
      <td width="135">
        <b>&nbsp;何の 弱者か?</b>
      </td>
    </tr>
    
    <tr bgcolor="#ffffff">
      <td width="135">
        &nbsp;w
      </td>
      
      <td width="135">
        横 サイズでしょう
      </td>
      
      <td width="135">
        width
      </td>
    </tr>
    
    <tr bgcolor="#ffffff">
      <td width="135">
        &nbsp;sx
      </td>
      
      <td width="135">
        x軸 手始め位置
      </td>
      
      <td width="135">
        source x &#8211; left side of source rectangle
      </td>
    </tr>
    
    <tr bgcolor="#ffffff">
      <td width="135">
        &nbsp;sy
      </td>
      
      <td width="135">
        y軸 手始め位置
      </td>
      
      <td width="135">
        source y &#8211; top side of source rectangle
      </td>
    </tr>
    
    <tr bgcolor="#ffffff">
      <td width="135">
        &nbsp;sw
      </td>
      
      <td width="135">
        x軸 長さ
      </td>
      
      <td width="135">
        source width &#8211; width of source rectangle
      </td>
    </tr>
    
    <tr bgcolor="#ffffff">
      <td width="135">
        &nbsp;sh
      </td>
      
      <td width="135">
        y軸 長さ
      </td>
      
      <td width="135">
        source height &#8211; height of source rectangle
      </td>
    </tr>
    
    <tr bgcolor="#ffffff">
      <td width="135">
        &nbsp;src
      </td>
      
      <td width="135">
        写真 住所
      </td>
      
      <td width="135">
        source
      </td>
    </tr>
  </table>
  
  <p>
    定木, 上の 変数たちを 組み合わせれば 原本 写真を 願う 位置に 切った 次 縮小する 蟹 可能になる はずです.
  </p>
</div>

<div>
  絵で 表現すれば 下のように なります.
</div>

<div>
  <img src="http://dl.dropboxusercontent.com/u/15546257/blog/mytory/old-images/1/cfile22.uf.15420D4E4D4BC951323B43.jpg" class="aligncenter" alt="" height="464" width="300" />
</div>

<div>
  sx, sy, sw, sh を 利用すれば 原本 イメージを 切る 数 あります. もし
</div>

<div>
  <pre class="brush:plain">/phpThumb.php?src=filename.jpg&sx=0&sy=30&sw=300&sh=214</pre>
</div>

<div>
  こんなに 使ったら, 上で ネモカンを 打ったとおり イメージが 切られて 表示される はずです.
</div>

<div>
  sx増えた 切ること 始める x軸 位置を 意味します.
</div>

<div>
  sy増えた 切ること 始める y軸 位置を 意味します.
</div>

<div>
  sw増えた 切る 広さを 意味します.
</div>

<div>
  sh増えた 切る 高さを 意味します.
</div>

<div>
  そのため 上 住所のように 使ったら?
</div>

<div>
  x軸 0わ y軸 30で 切ること 始めて, 横で 300px, 縦で 214pxを 切りなさい. する 蟹 なります.
</div>

<div>
  彼 結果 下のように 表示される はずです.
</div>

<div>
  <img src="http://dl.dropboxusercontent.com/u/15546257/blog/mytory/old-images/1/cfile4.uf.130CBE494D4BC9512866E7.jpg" class="aligncenter" alt="" height="214" width="300" />
</div>

<div>
  そして 最後に, w=70 と 入れて 与えたら?
</div>

<div>
  それでは 下のように 上 イメージが 縮まる のです.
</div>

<div>
  <img src="http://dl.dropboxusercontent.com/u/15546257/blog/mytory/old-images/1/cfile10.uf.111D52524D4BC95126CF3F.jpg" class="aligncenter" alt="" height="50" width="70" />
</div>

<div>
  さて スィブジョイング?
</div>

## 基本的に 切る サイズは プログラム側で 日 与えると

<div>
  定木, ここで php など プログラム 方で shを 計算して 与えると 割 必要が あります.
</div>

<div>
  横 サイズが 300イン 子供も あります, 500イン 子供も あります.
</div>

<div>
  あらゆる ソムネイルを 70&#215;50 で 作って たいです. それでは どうに しましょうか?
</div>

<div>
  一応 sx=0 で して sw増えた そのまま 基本 widthを 入れれば なる はずです. これは php などで <a href="http://bombfox.egloos.com/1065290" target="_blank">イメージ サイズを 求める 関数を 使用</a>すれば なります.
</div>

<div>
  定木, 横 サイズに 合わせて 切る 縦 サイズを 求めると します.
</div>

<div>
  それでは? phpラーメン 下のように 計算すれば なります.
</div>

<div>
  <pre class="brush:php">$sh = $横サイズ * ( 50 / 70 )</pre>
</div>

<div>
</div>

<div>
</div>