---
title: ワードプレス プラグイン 作り 基本 概念
author: 녹풍(綠風, Windgreen)
layout: post
permalink: /archives/814
aktt_notify_twitter:
  - yes
categories:
  - WordPress
tags:
  - WordPress Tip
---
ワードプレスで 何かを 開発する 時 テーマ 従属的であって ないように 夏期 ためには プラグインを 使う 蟹 良い. プラグインを 作れば コア ファイルを 修正するの なくて 多い 変化を 竝び 数 ある. コア ファイルを 修正すれば ワードプレスを アップデートする 度に 再び コストマイジングを すると する. 保安を ためには アップデートを 中 割 首都 ない だから 面倒なの なければ コア ファイルは 触れるの 巻くと する.

すなわち, ワードプレスを コストマイジングする の時は プラグインを 作る 蟹 良い の ようだ.

## プラグインの 基本 概念

ワードプレスは プラグインを 通じて ほとんど あらゆる のを 操作する 数 あるように して ある. 例を 入って 見よう.

ログイン メッセージを 少し 変えて たいと 欠点.

<pre class="brush: php; gutter: true; first-line: 1">function modify_login_message($msg){
  $msg .= &#039;私 巻いたり 誰も ログインするの 長芋!&#039;;
  return $msg;
}
add_filter(&#039;login_message&#039;, &#039;modify_login_message&#039;);</pre>

テーマに ある `functions.php` ファイルに 上 コードを 入れて 与えれば なる. `add_filter`増えた フィルターを 追加するという 話で, &#8216;`login_message`&#8216;増えた ワードプレスが 提供する キーワードだ. `modify_login_message`増えた 上で 見れば 卵 数 あるように, 関数人だ. すなわち, `login_message`を `modify_login_message`という 関数で 操作を 加えるという 意味だ. 関数人は 何が なっても 上官 ないのに `asdfasdf`ような 関数人も 構わない. 二 番目 因子値で 明示だけ 日 与えれば なる のだ.

`modify_login_message`関数は `$msg`を 受けて 加工を たいてい 後 回して 与える. これは フィルターに 登録される 関数の 規則だ. 加工する 遊ぶことを 受けて, 彼 遊ぶことを 回して 与えると ピルトリングだから.

上で 例で 入った 件 フィルターなのに, アクションと言う(のは) のも ある. 心配する こと ない. フィルター それとも アクションだ. 使い方は 似ている. アクションと フィルターの 冷たくは 簡単なのに, フィルターは 何かを 受けて リターンして 与える やつだ. アクションは そのまま 何かを する やつだ.

*   <a target="_top" href="http://codex.wordpress.org/Plugin_API/Filter_Reference">フィルターに 使われる キーワード リスト 表示</a>
*   <a target="_top" href="http://codex.wordpress.org/Plugin_API/Action_Reference">アクションに 使われる キーワード リスト 表示</a>

`wp-login.php`を 開いて 見れば 下と ような コードを ボール 数 ある.

<pre class="brush: php; gutter: true; first-line: 1">$message = apply_filters(&#039;login_message&#039;, $message);</pre>

フィルターを ここで 適用する ことだ. `apply_filter`を 私たちが 使う 仕事は ほとんど ない ことだ. あんな 式で `apply_filters('キーワード', $変数)` 式の コードが あちこちに あって, そこごとに 私たちが 操作を 加える 数 ある のだ.

アクションの 場合には `do_action('キーワード')` という 関数が あちこちに ある. ここで 該当 キーワードの アクションが 起る のだ.

関数 名前でも 卵 数 あるのに フィルターは 適用(`apply`)して アクションは する(`do`).

キーワードを 紹介したから ですね, 本文を ピルトリングして たければ フィルター キーワードに &#8216;`the_content`&#8216;を 使って 入れれば なる.

## これ フィルターを プラグインで 作ろうとすれば&#8230;

`functions.php`に 上 コードを 入れる のは まだ プラグインを 作った のが ない. これを プラグインで 作る 件 簡単だ.

`wp-content/plugins` 下位に `modify-login-message` という フォルダを 作って, `modify-login-message.php` ファイルを 作る. フォルダ人と ファイル名が 必ず ようだと する 件 ない の ようだ. これ ファイルが プラグインが 作動させる ファイルが なる. (フォルダ 中 作って plugins フォルダに 直接 ファイルを 作っても 構わない. ファイル 一つで 十分な プラグインなら そうに 割 首都 ある.)

これ ファイルの マン 上に こんなに 少ない.

<pre class="brush: php; gutter: true; first-line: 1">/*
 Plugin Name: ログイン メッセージ 変更
 Plugin URI: http://なくても-なる
 Description: ログイン メッセージを 変更する 例題 プルログインダ.
 Version: 1.0.0
 Author: mytory
 Author URI: http://mytory.local
 License: GPL2
 */</pre>

ワードプレスの ライセンスである GPL2 ライセンスを よって 見よう. もし GPL2 ライセンスを よる つもりなら 下の 文具を つまんで 入れて 与えると すると する. (勧奨事項である ことだろう.)

<pre class="brush: php; gutter: true; first-line: 1; highlight: []; html-script: false">/* Copyright YEAR PLUGIN_AUTHOR_NAME (email : PLUGIN AUTHOR EMAIL)
 This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License, version 2, as
published by the Free Software Foundation.
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA
*/</pre>

上に YEARと `PLUGIN_AUTHOR_NAME`, `PLUGIN AUTHOR EMAIL` ような 件 分かって 満たして 入れなさい.

こんなに して さっき コードを `funcitons.php` で 抜いて来て これ ファイルに つまんで 入れる. 保存を して ワードプレス 管理者モードの プラグイン メニューに 仮面 私が 作った プラグインが ある のを ボール 数 ある. そして プラグインを 活性化すれば ログイン 画面に アイディー 入力 間 上に さっき 入力した メッセージが 浮かぶ のを ボール 数 ある.

## 付け足し

ここで 扱った のは 基本 概念だ. フィルターと アクションに 入って行く 変数, 優先順位 等々 分かると 割 のが かなり ある. しかし 上の 基本 概念を 把握して 出れば もうちょっと 易しく プラグインを 製作する 数 ある のだ.

最後に, [例題 コードを ダウンロード][1]割 数 ある. 星 こと ないが

 [1]: https://dl.dropbox.com/u/15546257/blog/mytory/modify-login-message.zip